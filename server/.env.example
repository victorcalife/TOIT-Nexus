# ====================================================================
# CONFIGURAÇÃO DE AMBIENTE - TOIT NEXUS
# Copie este arquivo para .env e configure as variáveis
# ====================================================================

# ====================================================================
# CONFIGURAÇÕES BÁSICAS
# ====================================================================
NODE_ENV=development
PORT=8080

# ====================================================================
# BANCO DE DADOS
# ====================================================================
# PostgreSQL Connection String
DATABASE_URL=postgresql://username:password@railway-host:5432/railway

# Configurações do pool de conexões
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_TIMEOUT=30000

# ====================================================================
# AUTENTICAÇÃO E SEGURANÇA
# ====================================================================
# Chaves secretas para JWT (MUDE EM PRODUÇÃO!)
JWT_SECRET=toit_nexus_super_secret_key_2024_change_in_production
JWT_REFRESH_SECRET=toit_nexus_refresh_secret_2024_change_in_production

# Duração dos tokens
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Chave para sessões
SESSION_SECRET=toit_nexus_session_secret_2024_change_in_production

# ====================================================================
# CORS E DOMÍNIOS
# ====================================================================
# Domínios permitidos (separados por vírgula)
ALLOWED_ORIGINS=https://toit.com.br,https://admin.toit.com.br,http://admin.toit.com.br,http://toit.com.br

# Domínio principal em produção
PRODUCTION_DOMAIN=https://toit.com.br

# ====================================================================
# UPLOAD DE ARQUIVOS
# ====================================================================
# Tamanho máximo de upload (em MB)
MAX_FILE_SIZE=50

# Diretório de uploads
UPLOAD_DIR=uploads

# Tipos de arquivo permitidos
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword

# ====================================================================
# EMAIL (OPCIONAL)
# ====================================================================
# Configurações SMTP para envio de emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-de-app

# Email remetente
FROM_EMAIL=noreply@toit.com.br
FROM_NAME=TOIT Nexus

# ====================================================================
# RATE LIMITING
# ====================================================================
# Limite de requisições por IP (por 15 minutos)
RATE_LIMIT_MAX=1000

# Limite específico para login (por 15 minutos)
LOGIN_RATE_LIMIT_MAX=5

# ====================================================================
# LOGGING
# ====================================================================
# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# Formato de log (json, simple)
LOG_FORMAT=simple

# ====================================================================
# MONITORAMENTO
# ====================================================================
# Habilitar métricas de performance
ENABLE_METRICS=true

# Endpoint de health check
HEALTH_CHECK_PATH=/health

# ====================================================================
# CACHE (REDIS - OPCIONAL)
# ====================================================================
# URL do Redis para cache
REDIS_URL=redis://railway-redis-host:6379

# TTL padrão do cache (em segundos)
CACHE_TTL=3600

# ====================================================================
# WEBHOOKS E INTEGRAÇÕES
# ====================================================================
# Stripe (para pagamentos)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Outros webhooks
WEBHOOK_SECRET=toit_nexus_webhook_secret_2024

# ====================================================================
# CONFIGURAÇÕES DE PRODUÇÃO
# ====================================================================
# SSL/TLS
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# Proxy reverso
TRUST_PROXY=true

# Compressão
ENABLE_COMPRESSION=true

# ====================================================================
# FEATURES FLAGS
# ====================================================================
# Habilitar/desabilitar funcionalidades
ENABLE_REGISTRATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR=false

# ====================================================================
# CONFIGURAÇÕES ESPECÍFICAS DO TENANT
# ====================================================================
# Tenant padrão (TOIT)
DEFAULT_TENANT_SLUG=toit
DEFAULT_TENANT_NAME=TOIT - Tecnologia e Inovação

# Limites padrão para novos tenants
DEFAULT_MAX_USERS=10
DEFAULT_MAX_WORKSPACES=5
DEFAULT_MAX_STORAGE_GB=1

# ====================================================================
# DESENVOLVIMENTO
# ====================================================================
# Habilitar logs detalhados
DEBUG=true

# Recarregar automaticamente
AUTO_RELOAD=true

# Dados de teste
SEED_TEST_DATA=true

# ====================================================================
# EXEMPLO DE CONFIGURAÇÃO COMPLETA
# ====================================================================
# Para desenvolvimento local:
# NODE_ENV=development
# PORT=8080
# DATABASE_URL=postgresql://postgres:password@railway-host:5432/railway
# JWT_SECRET=minha_chave_secreta_super_forte
# ALLOWED_ORIGINS=https://toit.com.br,https://admin.toit.com.br

# Para produção:
# NODE_ENV=production
# PORT=3000
# DATABASE_URL=postgresql://user:pass@host:5432/db
# JWT_SECRET=chave_super_secreta_e_forte_para_producao
# ALLOWED_ORIGINS=https://toit.com.br
# TRUST_PROXY=true
# ENABLE_COMPRESSION=true
